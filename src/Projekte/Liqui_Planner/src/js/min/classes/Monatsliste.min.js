"use strict";export class Monatsliste{constructor(e,t){this._jahr=e,this._monat=t,this._eintraege=[],this._bilanz=0,this._html=this._html_generieren()}monat(){return this._monat}jahr(){return this._jahr}html(){return this._html}_html_generieren(){let e=`${new Date(this._jahr,this._monat-1).toLocaleString("de-DE",{month:"long"})}`,t=document.createElement("article");t.setAttribute("class",`monatsliste ${e}`);let n=document.createElement("h2");t.insertAdjacentElement("afterbegin",n);let i=document.createElement("span");i.setAttribute("class","monat-jahr"),i.textContent=`${new Date(this._jahr,this._monat-1).toLocaleString("de-DE",{month:"long",year:"numeric"})}`,n.insertAdjacentElement("afterbegin",i);let r=document.createElement("span");n.insertAdjacentElement("beforeend",r),this._bilanz>=0?r.setAttribute("class","monatsbilanz positiv"):r.setAttribute("class","monatsbilanz negativ"),r.textContent=`${(this._bilanz/100).toFixed(2).replace(/\./,",")} â‚¬`;let a=document.createElement("ul");return n.insertAdjacentElement("afterend",a),document.querySelectorAll(`.${e}  ul`).forEach(e=>e.remove()),this._eintraege.forEach(e=>{a.insertAdjacentElement("beforeend",e.html())}),t.insertAdjacentElement("beforeend",a),t}eintrag_hinzufuegen(e){this._eintraege.push(e),this.aktualisieren()}_eintraege_sortieren(){this._eintraege=this._eintraege.sort(function(e,t){return e.datum()>t.datum()?-1:e.datum()<t.datum()?1:0})}aktualisieren(){this._eintraege_sortieren(),this.bilanzieren(),this._html=this._html_generieren()}bilanzieren(){this._bilanz=0,this._eintraege.forEach(e=>{"einnahme"===e.typ()?this._bilanz+=e.betrag():this._bilanz-=e.betrag()})}}