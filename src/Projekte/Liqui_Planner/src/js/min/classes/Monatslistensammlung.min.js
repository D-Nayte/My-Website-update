import{Monatsliste}from"../exports.min.js";export class Monatslistensammlung{constructor(){this._monatslisten=[],this._html=this._html_generieren()}_eintrag_hinzufuegen(t){let e=t.datum().toLocaleString("de-DE",{month:"numeric"}),n=t.datum().toLocaleString("de-DE",{year:"numeric"}),i=!1;this._monatslisten.forEach(s=>{e===s.monat()&&n===s.jahr()&&(s.eintrag_hinzufuegen(t),i=!0)}),i||this._monatsliste_hinzufuegen(n,e,t)}_html_generieren(){let t=document.createElement("section");return t.setAttribute("id","monatslisten"),this._monatslisten.forEach(e=>{t.insertAdjacentElement("beforeend",e.html())}),t}_monatsliste_hinzufuegen(t,e,n){let i=new Monatsliste(t,e);i.eintrag_hinzufuegen(n),this._monatslisten.push(i)}aktualisieren(t){this._monatslisten=[],t.forEach(t=>this._eintrag_hinzufuegen(t)),this._monatslisten_sortieren(),this._monatslisten.forEach(t=>t.aktualisieren()),this._html=this._html_generieren(),this.anzeigen()}anzeigen(){let t=document.querySelector("#eingabeformular-container");null!==t&&(this._entfernen(),t.insertAdjacentElement("afterend",this._html))}_entfernen(){let t=document.querySelector("#monatslisten");null!==t&&t.remove()}_monatslisten_sortieren(){this._monatslisten=this._monatslisten.sort(function(t,e){return t.jahr()===e.jahr()?t.monat()>e.monat()?-1:t.monat()<e.monat()?1:0:t.jahr()>e.jahr()?-1:t.jahr()<e.jahr()?1:0})}}