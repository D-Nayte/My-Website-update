import{Gesamtbilanz}from"../exports.min.js";import{Monatslistensammlung}from"../exports.min.js";import{Navigationsleiste}from"../exports.min.js";import{Eingabeformular}from"../exports.min.js";import{Eintrag}from"../exports.min.js";export class Haushaltsbuch{constructor(){this._eintraege=[],this._gesamtbilanz=new Gesamtbilanz,this._monatslistensammlung=new Monatslistensammlung,this._navigationsleiste=new Navigationsleiste,this._eingabeformular=new Eingabeformular}eintrag_entfernen(e){let t=parseInt(e.getAttribute("data-timestamp"));for(let e=0;e<this._eintraege.length;e++)if(this._eintraege[e].timestamp()===t){this._eintraege.splice(e,1),this._monatslistensammlung.aktualisieren(this._eintraege),this._gesamtbilanz.aktualisieren(this._eintraege);break}this._speichern()}eintrag_hinzufuegen(e){let t=new Eintrag(e.titel,e.typ,e.datum,e.betrag);this._eintraege.push(t),this._speichern(),this._monatslistensammlung.aktualisieren(this._eintraege),this._gesamtbilanz.aktualisieren(this._eintraege)}start(){this._wiederherstellen(),this._navigationsleiste.anzeigen(),this._eingabeformular.anzeigen(),this._monatslistensammlung.anzeigen(),this._gesamtbilanz.anzeigen()}_speichern(){let e=JSON.stringify(this._eintraege);localStorage.setItem("eintraege",e)}_wiederherstellen(){JSON.parse(localStorage.getItem("eintraege")).forEach(e=>{let t=new Eintrag(e._titel,e._typ,new Date(e._datum),e._betrag);this._eintraege.push(t)}),this._monatslistensammlung.aktualisieren(this._eintraege),this._gesamtbilanz.aktualisieren(this._eintraege)}}